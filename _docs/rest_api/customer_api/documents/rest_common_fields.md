---
title: Общие поля документов
permalink: rest_common_fields.html
sidebar: evorestreference
product: Customer API
---

### Общие поля документов

```json
{
  "type": "OPEN_SESSION",
  "id": "20170222-D58C-40E0-8051-B53ADFF38860",
  "extras": {},
  "number": 1234,
  "close_date": "2017-01-10T09:33:19.757+0000",
  "time_zone_offset": 10800000,
  "session_id": "1022722e-9441-4beb-beae-c6bc5e7af30d",
  "session_number": 80,
  "close_user_id": "20170417-46B8-40B9-802E-4DEB67C07565",
  "device_id": "20170928-9441-4BEB-BEAE-C6BC5E7AF30D",
  "store_id": "20170928-3176-40EB-80E2-A11F032E282A",
  "user_id": "09-012345678901234",
  "version": "V2",
  "counterparties": [
    {
      "addresses": [],
      "full_name": "Vasya",
      "index": 0,
      "inn": "1234567890",
      "kpp": "1234567890",
      "phones": [],
      "role": "AGENT",
      "role_properties": {
        "agent_type": "AGENT"
      },
      "short_name": "Vasya",
      "type": "INDIVIDUAL_ENTREPRENEUR"
    },
  ],
  "body": {}
}
```

Имя  | Тип  | Описание
-----|------|--------------
`type`  | `string` | [Тип документа](./rest_documents.html#typeparameter).
`id`  | `string` | Идентификатор документа. Уникален в рамках магазина.
`extras`  | `object` | *Необязательный* Объект, который содержит дополнительную информацию. Дополнительную информацию могут добавлять сторонние приложения. Приложению возвращаются только его собственные дополнительные поля.
`number`| `number` | Порядковый номер документа на смарт-терминале. Отсчёт ведётся с момента активации смарт-терминала. При выполнении программного сброса отсчёт начинается с единицы.
`close_date`| `string` | Дата на смарт-терминале в момент сохранения документа. Представляется в формате ISO 8601 и приводится к TZ +0000.
`time_zone_offset`| `number` | Содержит настройки часового пояса на смарт-терминале в момент сохранения документа. Смещение для даты сохранения документа на смарт-терминале в миллисекундах относительно UTC.
`session_id`| `string` | Уникальный идентификатор смены. Смарт-терминал присваивает идентификатор в момент открытия смены документом `OPEN_SESSION`. Все документы в рамках одной смены имеют одинаковый идентификатор смены.
`session_number`| `string` | Порядковый номер смены на смарт-терминале. Отсчёт ведётся с момента активации смарт-терминала. При выполнении программного сброса отсчёт начинается с единицы.
`close_user_id`| `string` | Уникальный идентификатор сотрудника под учётными данными которого был создан документ.
`device_id`| `string` | Уникальный идентификатор смарт-терминала, на котором был сформирован документ.
`store_id`| `string` | Уникальный идентификатор магазина, в котором находился смарт-терминал, когда был сформирован документ.
`user_id`| `string` | Уникальный идентификатор пользователя Эвотор, соответствующий учетной записи владельца бизнеса, на которую активирован смарт-терминал, сформировавший документ.
`version`| `string` | *Необязательный* Версия схемы документа.
`counterparties`| `array` | *Необязательный* Массив контрагентов. Массив присутствует в документе, только если на терминале установлено приложение "Агентская схема".
`body`| `object` | Объект с основной информацией о документе. Его структура и наполнение зависит от типа документа.


### Массив `counterparties`

{% include note.html content="Массив `counterparties` присутствует в документе, только если на терминале установлено приложение \"Агентская схема\"." %}

Массив объектов с информацией о контрагентах. Объекты содержат следующие поля:

Имя  | Тип  | Описание
-----|------|--------------
`addresses`| `array` | *Необязательный* Список адресов контрагента.
`full_name`| `string` | *Необязательный* Полное наименование контрагента.
`index`| `integer` | Порядковый номер в списке (индекс).
`inn`| `string` | *Необязательный* ИНН контрагента.
`kpp`| `string` | *Необязательный* КПП контрагента.
`phones`| `array` | *Необязательный* Список номеров телефонов контрагента.
`role`| `string` | Роль контрагента. Возможные значения: `AGENT` – агент; `SUBAGENT` – субагент; `PRINCIPAL` – принципал; `TRANSACTION_OPERATOR` – оператор перевода.
`role_properties`| `object` | *Необязательный* Свойства, присущие данной роли. Объект присутствует только у контрагентов с ролью `AGENT` или `SUBAGENT`.
`short_name`| `string` | *Необязательный* Краткое наименование контрагента.
`type`| `string` | *Необязательный*

### Объект `role_properties`

{% include note.html content="Объект `role_properties` присутствует в документе, только у контрагентов с ролью `AGENT` или `SUBAGENT`." %}

Свойства, присущие данной роли. Объект может содержать следующие поля:

Имя  | Тип  | Описание
-----|------|--------------
`agent_type`| `string` | *Необязательный* Тип агента. Поле присутствует в объекте, только у контрагентов с ролью `AGENT`. Возможные значения: `AGENT` – агент; `COMMISSIONER` – комиссионер; `ATTORNEY_IN_FACT` – поверенный; `PAYMENT_AGENT` – платёжный агент; `BANK_PAYMENT_AGENT` – банковский платёжный агент.
`subagent_type`| `string` | Тип субагента. Поле присутствует в объекте, только у контрагентов с ролью `SUBAGENT`. Возможные значения: `PAYMENT_SUBAGENT` – платёжный субагент; `BANK_PAYMENT_SUBAGENT` – банковский платёжный субагент.
